自增主键是递增的，但不保证是连续的。 

### Mysql自增值保存在哪里？
- MyISAM引擎的自增值保存在数据文件中。
- InnoDB引擎的自增值：  
  在Mysql8.0前，自增值保存在内存中（意味着，一旦重启就丢失）。每次重启后第一次打开表时，重新使用max('自增字段')+1重新计算出自增值存在内存中。  
  从Mysql8.0开始，自增值保存在redo log中。重启时，依靠redo log恢复重启之前的自增值。  
 
### 自增值的修改时机  
自增值的修改，在执行器调用Mysql引擎接口写入一行数据时，在引擎中由引擎完成修改。
 
### 自增锁  
自增锁释放时机：
- 申请完立即释放  
- 语句执行完才能释放




### 造成主键自增但不连续的三个原因：  
1. 插入时的唯一键冲突；  
2. 事务回滚；  
3. 批量插入操作。（MySQL批量申请自增主键策略：1，1*2， 1*2*2，1*2*2*2，...）  
> 根本原因都是：自增主键不能回收。  